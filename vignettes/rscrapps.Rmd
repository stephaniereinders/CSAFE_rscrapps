---
title: "rscrapps"
author: "Stephanie Reinders"
date: "6/25/2020"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{rscrapps}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(rscrapps)
```

This package was created so that my research group would have a simple way to gather information from the Google Play Store on available apps. The function getDataForApps allows the user to enter a search term and the number of apps to scrape. The function searches the Google Play Store for apps using the search term and then scrapes the Google Play Store app pages of the apps listed in the search results. The function getDataForSingleApp scrapes the Google Play Store app page for a single app.

---

## Scraping search results with getDataForApps

The function getDataForApps searches the Google Play Store for the input search term, then scrapes the app pages of the input number of apps in the search results. The function getDataForApps gathers the data for each app by running the function getDataForSingleApp.

The inputs to getDataForApps are a search term *search_term* and the number of apps to scrape *num_apps*. 

The input search_term can be a single word or multiple words.

The number of apps to scape can be "all" or a positive integer. Scraping the app pages of all apps can take a while depending on the number of apps in the search results, so we won't show an example where the number of apps is "all" on this page. If the number of apps to scrape num_apps is less than the total number of apps in the search results, the first num_apps in the search results will be scraped. The default number of apps to search is 2. 

```{r}
getDataForApps("steganography")

getDataForApps("hidden data", 5)

```


## Scraping a single app page with getDataForSingleApp

The function getDataForSingleApp scapes an app page on the Google Play Store. The input is the url of an app page on the Google Play Store to the function. The function runs getDataForTag to scrape information for specified fields on the app page. Some of the data returned by getDataForTag is messy, so getDataForSingleApp cleans it up if necessary.

```{r}
app_url <- "https://play.google.com/store/apps/details?id=com.disney.disneyplus"
getDataForSingleApp(app_url)
```


## Scape an app page for a specific html tag with getDataForTag

The function getDataForTag scrapes a single Google Play Store app page for a single html tag. 

The inputs to getDataForTag are app_url, the url for a Google Play Store app page, html_tag, html_attribute, and html_attribute_value. The inputs html_tag, html_attribute, and html_attribute_value specify the specific field to scrape. For example, to scrape the descripition field html_tag = "div", html_attribute = "jsname", and html_attribute_value = "snebd". 

```{r}
app_url <- "https://play.google.com/store/apps/details?id=com.disney.disneyplus"

description <- getDataForTag(app_url, "div", "jsname", "sngebd")
description

audience <- getDataForTag(app_url, "div", "class", "KmO8jd")
audience
```




